# BACKEND KONFIGURACE
# =====================
# LOKÁLNÍ VÝVOJ: Používá decap-server proxy (npm run cms:proxy)
# PRODUKCE: Používá GitHub backend s Netlify Identity/Git Gateway
backend:
  name: git-gateway
  branch: main
  
# Local backend: true = v lokálním vývoji použij proxy server
# V produkci se automaticky ignoruje a použije se GitHub API
local_backend: true

# Publikování - články se ukládají přímo do Gitu
publish_mode: editorial_workflow

# Vypnutí preview - editor pracuje pouze s obsahem
show_preview_links: false

# Cesta k uploadovaným médiím
media_folder: "public/uploads"
public_folder: "/uploads"

# Kolekce obsahu
collections:
  # Blog články
  - name: "blog"
    label: "Blog články"
    folder: "src/content/blog"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Titulek", name: "title", widget: "string" }
      - { label: "Datum publikování", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
      - label: "Kategorie"
        name: "category"
        widget: "select"
        options: 
          - "Zdraví"
          - "Prevence"
          - "Výživa"
          - "Očkování"
          - "Tipy pro rodiče"
          - "Kojení a výživa kojenců"
          - "Dětské nemoci"
          - "Kožní problémy"
          - "Alergologie"
          - "Psychologie dítěte"
          - "Spánek dětí"
          - "Bezpečnost"
          - "První pomoc"
          - "Léky a antibiotika"
          - "Dentální hygiena"
          - "Zrak a sluch"
          - "Pohybový vývoj"
          - "Řeč a komunikace"
          - "Cestování s dětmi"
          - "Ordinační hodiny"
      - { label: "Úvodní text", name: "excerpt", widget: "text" }
      - { label: "Hlavní obrázek článku", name: "image", widget: "image", required: false, hint: "Volitelný - obrázek v záhlaví článku (doporučené 1200x630px)" }
      - { label: "Autor", name: "author", widget: "select", options: ["MUDr. Jana Šlechtová", "MUDr. Petra Nováková"], required: false }
      - { label: "Publikováno", name: "published", widget: "boolean", default: true }
      - label: "Obsah článku"
        name: "body"
        widget: "markdown"
        buttons: ['bold', 'italic', 'link', 'heading-two', 'heading-three', 'quote', 'bulleted-list', 'numbered-list']
        editor_components: []

  # Aktuality
  - name: "news"
    label: "Aktuality"
    folder: "src/content/news"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Titulek", name: "title", widget: "string" }
      - label: "Barva"
        name: "color"
        widget: "select"
        hint: "Určuje barvu pozadí aktuality"
        options:
          - { label: "🔵 Modrá (Informace)", value: "blue" }
          - { label: "🟠 Oranžová (Upozornění)", value: "orange" }
          - { label: "🟢 Zelená (Dobrá zpráva)", value: "green" }
          - { label: "🔴 Červená (Důležité)", value: "red" }
          - { label: "🟡 Žlutá (Varování)", value: "yellow" }
          - { label: "🟣 Fialová (Speciální)", value: "purple" }
      - label: "Ikona"
        name: "icon"
        widget: "select"
        default: "mdi:information"
        hint: "Vyberte ikonu, která se zobrazí u aktuality"
        options:
          - { label: "ℹ️ Informace", value: "mdi:information" }
          - { label: "⚠️ Výstražný znak", value: "mdi:alert" }
          - { label: "✓ Zaškrtnutí", value: "mdi:check-circle" }
          - { label: "✕ Křížek", value: "mdi:close-circle" }
          - { label: "📢 Megafon", value: "mdi:bullhorn" }
          - { label: "📅 Kalendář", value: "mdi:calendar" }
          - { label: "🕐 Hodiny", value: "mdi:clock" }
          - { label: "🏥 Nemocnice", value: "mdi:hospital-building" }
          - { label: "💊 Lék/Pilulka", value: "mdi:pill" }
          - { label: "🩺 Stetoskop", value: "mdi:stethoscope" }
          - { label: "💉 Injekce", value: "mdi:needle" }
          - { label: "🌡️ Teploměr", value: "mdi:thermometer" }
          - { label: "❤️ Srdce", value: "mdi:heart" }
          - { label: "👶 Dítě", value: "mdi:baby-face" }
          - { label: "👨‍⚕️ Doktor", value: "mdi:doctor" }
          - { label: "🔔 Zvonek", value: "mdi:bell" }
          - { label: "⭐ Hvězda", value: "mdi:star" }
          - { label: "📝 Poznámka", value: "mdi:note-text" }
          - { label: "🎯 Cíl", value: "mdi:target" }
          - { label: "🏠 Domov", value: "mdi:home" }
      - { label: "Datum", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
      - { label: "Obsah", name: "body", widget: "markdown" }
      - { label: "Publikováno", name: "published", widget: "boolean", default: true }

  # Důležité oznámení - pouze jeden soubor
  - name: "special_notice"
    label: "Důležité oznámení"
    files:
      - name: "notice"
        label: "Oznámení"
        file: "src/data/special-notice.json"
        fields:
          - { label: "Zobrazit oznámení", name: "active", widget: "boolean", default: false, hint: "Zapněte pro zobrazení banneru na webu" }
          - { label: "Zpráva", name: "message", widget: "text", hint: "Text oznámení (např. 'Ordinace bude 24.12. zavřená')" }
          - label: "Typ oznámení"
            name: "type"
            widget: "select"
            default: "warning"
            hint: "Určuje barvu banneru a oznámení všude na webu"
            options:
              - { label: "⚠️ Varování (žlutá)", value: "warning" }
              - { label: "ℹ️ Informace (modrá)", value: "info" }
              - { label: "🔴 Důležité (červená)", value: "urgent" }
          - { label: "Ordinace zavřena", name: "closed", widget: "boolean", default: false, hint: "Zapni pokud je ordinace úplně zavřená. Pokud je zapnuto, pole 'Upravené hodiny' se ignoruje." }
          - { label: "Upravené hodiny", name: "hours", widget: "string", required: false, hint: "Vyplň pouze pokud je ordinace otevřená se změněnou dobou (např. '8:00 - 12:00'). Nech prázdné pokud je zavřeno nebo má běžnou provozní dobu." }
          - label: "Platnost od"
            name: "validFrom"
            widget: "datetime"
            required: false
            date_format: "DD.MM.YYYY"
            time_format: false
            format: "YYYY-MM-DD"
            hint: "Volitelné - od kdy platí oznámení"
          - label: "Platnost do"
            name: "validTo"
            widget: "datetime"
            required: false
            date_format: "DD.MM.YYYY"
            time_format: false
            format: "YYYY-MM-DD"
            hint: "Volitelné - do kdy platí oznámení (pokud nevyplníš žádné datum, platí pořád)"
