# ============================================================================
# BACKEND KONFIGURACE
# ============================================================================
# LOKÁLNÍ VÝVOJ: Používá local_backend (npm run dev - edit bez autentizace)
# PRODUKCE: GitHub backend s OAuth (zdravicko.org)
backend:
  name: github
  repo: janpodmolik/zdravicko
  branch: main

# Lokální vývoj - proxy server pro editaci bez GitHubu
local_backend: true

# Publikování - články procházejí schvalovacím procesem
publish_mode: editorial_workflow

# Vypnutí preview linků - editor pracuje pouze s obsahem
show_preview_links: false

# Cesta k uploadovaným médiím (obrázky, soubory)
media_folder: "public/uploads"
public_folder: "/uploads"

# ============================================================================
# SVELTIA CMS VYLEPŠENÍ
# ============================================================================
# Lepší media library s možností organizace a vyhledávání
media_library:
  name: native
  config:
    max_file_size: 5242880 # 5MB limit pro obrázky

# Automatické ukládání konceptů
save_strategy: drafts

# Zobrazení cesty k souboru v editoru
show_file_path: true

# ============================================================================
# KOLEKCE OBSAHU
# ============================================================================
collections:
  # ============================================================================
  # BLOG ČLÁNKY
  # ============================================================================
  # Odborné články o zdraví dětí, prevenci, výživě a dalších tématech
  - name: "blog"
    label: "📝 Blog články"
    folder: "src/content/blog"
    create: true
    slug: "{{slug}}"
    fields:
      - label: "📌 Titulek článku"
        name: "title"
        widget: "string"
        hint: "Hlavní nadpis článku (max 60 znaků pro SEO)"

      - label: "📅 Datum publikování"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        hint: "Datum zobrazené u článku"

      - label: "🏷️ Kategorie"
        name: "category"
        widget: "select"
        hint: "Vyberte nejvhodnější kategorii pro tento článek"
        options:
          - "Zdraví"
          - "Prevence"
          - "Výživa"
          - "Očkování"
          - "Tipy pro rodiče"
          - "Kojení a výživa kojenců"
          - "Dětské nemoci"
          - "Kožní problémy"
          - "Alergologie"
          - "Psychologie dítěte"
          - "Spánek dětí"
          - "Bezpečnost"
          - "První pomoc"
          - "Léky a antibiotika"
          - "Dentální hygiena"
          - "Zrak a sluch"
          - "Pohybový vývoj"
          - "Řeč a komunikace"
          - "Cestování s dětmi"
          - "Ordinační hodiny"

      - label: "✏️ Úvodní text (excerpt)"
        name: "excerpt"
        widget: "text"
        hint: "Krátký popis článku (1-2 věty) - zobrazuje se v náhledech a pro SEO"

      - label: "🖼️ Hlavní obrázek článku"
        name: "image"
        widget: "image"
        required: false
        hint: "Volitelný obrázek v záhlaví (doporučený formát: 1200x630px, JPG/PNG)"

      - label: "👨‍⚕️ Autor"
        name: "author"
        widget: "select"
        options: ["MUDr. Jana Šlechtová", "MUDr. Johanka Podmolíková"]
        required: false
        hint: "Vyberte autora článku"

      - label: "✅ Publikováno"
        name: "published"
        widget: "boolean"
        default: true
        hint: "Vypni pro skrytí článku z webu (koncept)"

      - label: "📄 Obsah článku"
        name: "body"
        widget: "markdown"
        hint: "Plný text článku - použij formátování níže"
        buttons:
          [
            "bold",
            "italic",
            "link",
            "heading-two",
            "heading-three",
            "quote",
            "bulleted-list",
            "numbered-list",
          ]
        editor_components: []

  # ============================================================================
  # SLUŽBY
  # ============================================================================
  # Lékařské služby a péče nabízená ordinací
  - name: "services"
    label: "🏥 Služby"
    folder: "src/content/services"
    create: true
    slug: "{{slug}}"
    sortable_fields: ["order", "title"]
    fields:
      - label: "📌 Název služby"
        name: "title"
        widget: "string"
        hint: "Např. 'Preventivní prohlídky', 'Očkování', 'Akutní péče'"

      - label: "✏️ Krátký popis"
        name: "excerpt"
        widget: "text"
        hint: "Stručný popis služby (1-2 věty) zobrazený v kartě"

      - label: "🗓️ Ikona služby"
        name: "icon"
        widget: "select"
        hint: "Ikona zobrazená u služby - vyberte nejvhodnější symbol"
        options:
          - { label: "📋 Dokumenty", value: "mdi:file-document-check" }
          - { label: "🩺 Stetoskop", value: "mdi:stethoscope" }
          - { label: "💉 Injekce/Očkování", value: "mdi:needle" }
          - { label: "🏥 Nemocnice/Urgentní", value: "mdi:hospital-box" }
          - { label: "❓ Konzultace", value: "mdi:clipboard-text" }
          - { label: "📝 Posudek/Zpráva", value: "mdi:file-document-edit" }
          - { label: "🌸 Alergie/Pyl", value: "mdi:flower-pollen" }
          - { label: "🤱 Kojení/Mateřství", value: "mdi:mother-nurse" }
          - { label: "👶 Dítě/Vývoj", value: "mdi:baby-face-outline" }
          - { label: "🏃 Sport/Běh", value: "mdi:run" }
          - { label: "🍎 Výživa/Jídlo", value: "mdi:food-apple" }
          - { label: "✈️ Cestování", value: "mdi:airplane" }
          - { label: "🤲 Kůže/Péče", value: "mdi:hand-heart" }
          - { label: "💓 Srdce/EKG", value: "mdi:heart-pulse" }
          - { label: "🦠 Vakcína/Bakterie", value: "mdi:bacteria" }
          - { label: "💊 Lék/Tableta", value: "mdi:pill" }
          - { label: "🏪 Lékárna", value: "mdi:pharmacy" }
          - { label: "🌡️ Teploměr", value: "mdi:thermometer" }
          - { label: "👨‍⚕️ Lékař", value: "mdi:doctor" }
          - { label: "🏨 Nemocnice/Budova", value: "mdi:hospital-building" }
          - { label: "🚑 První pomoc", value: "mdi:medical-bag" }
          - { label: "✅ Kontrola/Zkouška", value: "mdi:shield-check" }
          - { label: "⭐ Hvězda/Speciální", value: "mdi:star" }

      - label: "🎨 Barva služby"
        name: "color"
        widget: "select"
        hint: "Barva použitá v designu služby - vyberte podle tématu"
        options:
          - { label: "🔵 Modrá - Klasické služby", value: "blue" }
          - { label: "🔷 Azurová - Očkování, prevence", value: "cyan" }
          - { label: "🟣 Fialová - Akutní péče, výživa", value: "purple" }
          - { label: "🩷 Růžová - Poradenství, kojení", value: "pink" }
          - { label: "🟢 Zelená - Zdraví, wellness", value: "green" }
          - { label: "🟠 Oranžová - Aktivní péče", value: "orange" }
          - { label: "🔴 Červená - Urgentní péče", value: "red" }
          - { label: "🟡 Žlutá - Prevence, informace", value: "yellow" }
          - { label: "🟣 Indigo - Speciální péče", value: "indigo" }
          - { label: "🔵 Tyrkysová - Diagnostika", value: "teal" }

      - label: "⏱️ Doba trvání"
        name: "duration"
        widget: "string"
        required: false
        hint: "Např. '30 minut', '1 hodina'. Nepovinné."

      - label: "💰 Cena"
        name: "price"
        widget: "string"
        required: false
        hint: "Např. 'Hrazeno pojišťovnou', '500 Kč'. Nepovinné."

      - label: "🏠 Zobrazit na hlavní stránce"
        name: "showOnHomepage"
        widget: "boolean"
        default: false
        hint: "Zapni pro zobrazení služby mezi doporučenými na homepage"

      - label: "🔢 Pořadí"
        name: "order"
        widget: "number"
        default: 999
        hint: "Číslo určující pořadí služeb (menší číslo = výše)"

      - label: "✅ Publikováno"
        name: "published"
        widget: "boolean"
        default: true
        hint: "Vypni pro skrytí služby z webu"

      # NOVÉ: Modulární bloky obsahu
      - label: "� Obsah služby (bloky)"
        name: "content_blocks"
        widget: "list"
        required: false
        hint: "Skládejte stránku z různých bloků - text, seznamy, tipy, FAQ atd. Přidávejte, odebírejte a přesouvejte bloky podle potřeby."
        types:
          # Textový blok
          - label: "📝 Textový blok"
            name: "text"
            widget: "object"
            summary: "📝 {{fields.content}}"
            fields:
              - label: "Text (HTML/Markdown)"
                name: "content"
                widget: "markdown"
                hint: "Klasický text s formátováním - nadpisy, odstavce, seznamy, tučné písmo atd."

          # Features list
          - label: "✅ Seznam výhod"
            name: "features_list"
            widget: "object"
            summary: "✅ {{fields.heading}}"
            fields:
              - label: "Nadpis"
                name: "heading"
                widget: "string"
                hint: "Např. 'Co služba zahrnuje', 'Výhody', 'Co nabízíme'"
              - label: "Položky"
                name: "items"
                widget: "list"
                field:
                  label: "Položka"
                  name: "item"
                  widget: "string"

          # Tip box
          - label: "💡 Tip / Rada"
            name: "tip_box"
            widget: "object"
            summary: "💡 {{fields.heading}}"
            fields:
              - label: "Nadpis (nepovinný)"
                name: "heading"
                widget: "string"
                required: false
                hint: "Např. '💡 Tip pro rodiče'"
              - label: "Text"
                name: "content"
                widget: "markdown"
              - label: "Ikona"
                name: "icon"
                widget: "select"
                required: false
                default: "mdi:lightbulb-on"
                options:
                  - { label: "💡 Žárovka", value: "mdi:lightbulb-on" }
                  - { label: "ℹ️ Info", value: "mdi:information" }
                  - { label: "⭐ Hvězda", value: "mdi:star" }
                  - { label: "🎯 Terč", value: "mdi:target" }

          # Warning box
          - label: "⚠️ Varování"
            name: "warning_box"
            widget: "object"
            summary: "⚠️ Varování"
            fields:
              - label: "Text"
                name: "content"
                widget: "markdown"
                hint: "Důležité upozornění nebo varování pro pacienty"

          # FAQ
          - label: "❓ FAQ sekce"
            name: "faq"
            widget: "object"
            summary: "❓ {{fields.heading}}"
            fields:
              - label: "Nadpis (nepovinný)"
                name: "heading"
                widget: "string"
                required: false
                default: "Často kladené otázky"
              - label: "Otázky a odpovědi"
                name: "items"
                widget: "list"
                fields:
                  - label: "Otázka"
                    name: "question"
                    widget: "string"
                  - label: "Odpověď"
                    name: "answer"
                    widget: "markdown"

          # Kroky
          - label: "🔢 Kroky / Návod"
            name: "steps"
            widget: "object"
            summary: "🔢 {{fields.heading}}"
            fields:
              - label: "Nadpis"
                name: "heading"
                widget: "string"
                hint: "Např. 'Jak probíhá vyšetření', 'Postup krok za krokem'"
              - label: "Kroky"
                name: "steps"
                widget: "list"
                fields:
                  - label: "Název kroku"
                    name: "title"
                    widget: "string"
                  - label: "Popis"
                    name: "description"
                    widget: "text"

          # CTA Box
          - label: "📢 Výzva k akci (CTA)"
            name: "cta_box"
            widget: "object"
            summary: "📢 {{fields.heading}}"
            fields:
              - label: "Nadpis"
                name: "heading"
                widget: "string"
              - label: "Popis"
                name: "description"
                widget: "text"
              - label: "Text tlačítka (nepovinné)"
                name: "buttonText"
                widget: "string"
                required: false
              - label: "Odkaz tlačítka (nepovinné)"
                name: "buttonLink"
                widget: "string"
                required: false
                hint: "Např. '/kontakt' nebo '/ordinacni-hodiny'"

  # ============================================================================
  # AKTUALITY
  # ============================================================================
  # Krátké zprávy a oznámení zobrazované na webu (ne banner nahoře!)
  - name: "news"
    label: "📢 Aktuality"
    folder: "src/content/news"
    create: true
    slug: "{{slug}}"
    fields:
      - label: "📌 Nadpis aktuality"
        name: "title"
        widget: "string"
        hint: "Krátký a výstižný nadpis"

      - label: "🎨 Barva pozadí"
        name: "color"
        widget: "select"
        hint: "Barva ovlivňuje vzhled aktuality na webu"
        options:
          - { label: "Informace (modrá)", value: "blue" }
          - { label: "Upozornění (oranžová)", value: "orange" }
          - { label: "Zpráva (zelená)", value: "green" }
          - { label: "Důležité (červená)", value: "red" }
          - { label: "Varování (žlutá)", value: "yellow" }
          - { label: "Speciální (fialová)", value: "purple" }

      - label: "🗓️ Ikona"
        name: "icon"
        widget: "select"
        default: "mdi:information"
        hint: "Ikona zobrazená vedle nadpisu aktuality"
        options:
          - { label: "Informace", value: "mdi:information" }
          - { label: "Výstražný znak", value: "mdi:alert" }
          - { label: "Zaškrtnutí", value: "mdi:check-circle" }
          - { label: "Křížek", value: "mdi:close-circle" }
          - { label: "Megafon", value: "mdi:bullhorn" }
          - { label: "Kalendář", value: "mdi:calendar" }
          - { label: "Hodiny", value: "mdi:clock" }
          - { label: "Nemocnice", value: "mdi:hospital-building" }
          - { label: "Lék/Pilulka", value: "mdi:pill" }
          - { label: "Stetoskop", value: "mdi:stethoscope" }
          - { label: "Injekce", value: "mdi:needle" }
          - { label: "Teploměr", value: "mdi:thermometer" }
          - { label: "Srdce", value: "mdi:heart" }
          - { label: "Dítě", value: "mdi:baby-face" }
          - { label: "Doktor", value: "mdi:doctor" }
          - { label: "Zvonek", value: "mdi:bell" }
          - { label: "Hvězda", value: "mdi:star" }
          - { label: "Poznámka", value: "mdi:note-text" }
          - { label: "Cíl", value: "mdi:target" }
          - { label: "Domov", value: "mdi:home" }

      - label: "📅 Datum aktuality"
        name: "date"
        widget: "datetime"
        format: "YYYY-MM-DD"
        hint: "Datum zobrazené u aktuality"

      - label: "📄 Text aktuality"
        name: "body"
        widget: "markdown"
        hint: "Obsah aktuality - můžete použít formátování"

      - label: "✅ Publikováno"
        name: "published"
        widget: "boolean"
        default: true
        hint: "Vypni pro skrytí aktuality z webu"

  # ============================================================================
  # DŮLEŽITÉ OZNÁMENÍ
  # ============================================================================
  # Slouží k zobrazení banneru na webu o změnách ordinačních hodin
  # nebo důležitých informacích (dovolená, svátky, změna telefonního čísla)
  - name: "special-notice"
    label: "🚨 Důležité oznámení"
    files:
      - name: "notice"
        label: "⚙️ Nastavení oznámení"
        file: "src/data/special-notice.json"
        fields:
          # ---------------------------------------------------------------
          # ZÁKLADNÍ NASTAVENÍ
          # ---------------------------------------------------------------
          - label: "🔔 Zobrazit oznámení na webu"
            name: "active"
            widget: "boolean"
            default: false
            hint: "Zapněte pro okamžité zobrazení banneru nahoře na všech stránkách webu"

          - label: "💬 Text zprávy"
            name: "message"
            widget: "text"
            required: false
            hint: "Nepovinné - dodatečný text k oznámení. Např: 'Ordinace bude 24.12. zavřená'. Pokud nevyplníte, zobrazí se pouze informace o hodinách."

          - label: "🎨 Typ oznámení"
            name: "type"
            widget: "select"
            default: "warning"
            hint: "Určuje barvu banneru a všech souvisejících prvků na webu"
            options:
              - { label: "Varování (žlutá)", value: "warning" }
              - { label: "Informace (modrá)", value: "info" }
              - { label: "Důležité/Urgentní (červená)", value: "urgent" }

          # ---------------------------------------------------------------
          # STAV ORDINACE
          # ---------------------------------------------------------------
          - label: "🔒 Ordinace je zavřená"
            name: "closed"
            widget: "boolean"
            default: false
            hint: "Zapni pro celé zavření ordinace. Pokud je zapnuto, pole níže 'Upravené hodiny' se ignorují!"

          # ---------------------------------------------------------------
          # UPRAVENÉ ORDINAČNÍ HODINY
          # Vyplň OBA pole (OD i DO) nebo ŽÁDNÉ
          # ---------------------------------------------------------------
          - label: "🕐 Upravená ordinační doba - OD (čas otevření)"
            name: "hoursFrom"
            widget: "datetime"
            required: false
            date_format: false
            time_format: "HH:mm"
            format: "HH:mm"
            picker_utc: false
            default: ""

          - label: "🕔 Upravená ordinační doba - DO (čas zavření)"
            name: "hoursTo"
            widget: "datetime"
            required: false
            date_format: false
            time_format: "HH:mm"
            format: "HH:mm"
            picker_utc: false
            default: ""
            hint: "Vyplň OBA časy (OD i DO) nebo ŽÁDNÝ! DO musí být později než čas OD. Systém automaticky porovná s běžnými hodinami."

          # ---------------------------------------------------------------
          # ČASOVÁ PLATNOST OZNÁMENÍ
          # Vyplň OBA data (OD i DO) nebo ŽÁDNÉ pro trvalou platnost
          # ---------------------------------------------------------------
          - label: "📅 Platnost OD (datum)"
            name: "validFrom"
            widget: "datetime"
            required: false
            date_format: "DD.MM.YYYY"
            time_format: false
            format: "YYYY-MM-DD"

          - label: "📅 Platnost DO (datum)"
            name: "validTo"
            widget: "datetime"
            required: false
            date_format: "DD.MM.YYYY"
            time_format: false
            format: "YYYY-MM-DD"
            hint: "Vyplň OBA datumy (OD i DO) nebo ŽÁDNÉ pro trvalou platnost."
