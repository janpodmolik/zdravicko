---
import { Icon } from 'astro-icon/components';

interface Props {
  icon: string;
  title: string;
  bgColor?: string;
  iconColor?: string;
  href?: string;
  isClickable?: boolean;
  target?: string;
  rel?: string;
  dataOpeningTitle?: boolean;
}

const DEFAULT_BG_COLOR = 'bg-[#5085c6]/10';
const DEFAULT_ICON_COLOR = 'text-[#5085c6]';

const {
  icon,
  title,
  bgColor = DEFAULT_BG_COLOR,
  iconColor = DEFAULT_ICON_COLOR,
  href,
  isClickable = false,
  target,
  rel,
  dataOpeningTitle = false
} = Astro.props;

const Component = href ? 'a' : 'div';
---

<Component
  href={href}
  target={target}
  rel={rel}
  class:list={[
    'flex gap-4 p-5 rounded-xl bg-linear-to-br from-white to-gray-50 border-2 transition-all shadow-sm',
    isClickable || href ? 'border-[#5085c6]/30 hover:border-[#5085c6] hover:shadow-md cursor-pointer hover:from-[#5085c6]/5 hover:to-white' : 'border-gray-200'
  ]}
>
  <div class:list={[
    'w-12 h-12 rounded-lg flex items-center justify-center shrink-0 self-start shadow-sm',
    bgColor
  ]}>
    <Icon name={icon} class:list={['w-6 h-6', iconColor]} />
  </div>

  <div class="flex-1 min-w-0">
    <h3
      class="font-semibold text-gray-900 mb-2"
      data-opening-title={dataOpeningTitle ? '' : undefined}
    >
      {title}
    </h3>
    <slot />
  </div>
</Component>
