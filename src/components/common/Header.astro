---
import { Icon } from 'astro-icon/components';
import { contactInfo } from '../../data/contact';
import { navItems, type PageId } from '../../data/navigation';
import logoSrc from '../../assets/logo.png';
import logoPinkSrc from '../../assets/logo-pink.png';

interface Props {
  activePage?: PageId;
}

const { activePage = 'home' } = Astro.props;
const isPinkPage = activePage === 'kojeni';
const currentLogo = isPinkPage ? logoPinkSrc : logoSrc;

const colorStyles = {
  blue: {
    active: 'text-red-600 font-semibold',
    inactive: 'text-gray-700 hover:text-red-600 transition-colors'
  },
  pink: {
    active: 'text-pink-600 font-semibold',
    inactive: 'text-pink-500 hover:text-pink-600'
  }
} as const;
---

<header class="bg-white shadow-sm sticky top-0 z-50">
  <nav class="container mx-auto px-4 py-4">
    <div class="flex items-center justify-between">
      <a href="/" class="flex items-center gap-2">
        <img src={currentLogo.src} alt="Zdravíčko" class="h-10 md:h-12" />
      </a>

      <div class="hidden lg:flex gap-6">
        {navItems.map(item => {
          const color = item.color || 'blue';
          const isActive = item.page === activePage;
          const styles = colorStyles[color];

          return (
            <a
              href={item.href}
              class:list={[
                'transition-colors',
                isActive ? styles.active : styles.inactive
              ]}
            >
              {item.label}
            </a>
          );
        })}
      </div>

      <a
        href={`tel:${contactInfo.phones.doctor.number}`}
        class:list={[
          'hidden lg:block px-6 py-2 rounded-lg transition-colors text-white',
          isPinkPage ? 'bg-secondary-500 hover:bg-secondary-600' : 'bg-primary hover:bg-primary-600'
        ]}
      >
        Zavolat
      </a>

      <button id="mobile-menu-button" class="lg:hidden text-gray-600 hover:text-red-600 transition-colors p-3 -mr-3" aria-label="Otevřít menu">
        <Icon name="mdi:menu" class="w-7 h-7" />
      </button>
    </div>
  </nav>
</header>
