---
import {
  getWeekScheduleStatic,
  NOTICE_TYPE_CLASSES,
  type WeekDaySchedule,
  type NoticeType
} from '../../utils/openingHours';

// Použij statickou verzi - client-side script rozhodne o special notices
const weekSchedule = getWeekScheduleStatic();

/**
 * Vrátí CSS třídy pro zobrazení ordinačních hodin podle stavu dne
 * Při buildu vždy vrací defaultní třídy - modifikace se dělají client-side
 */
function getHourClass(schedule: WeekDaySchedule): string {
  if (schedule.isWeekend && schedule.isClosed) return 'text-gray-500';
  if (schedule.isClosed) return 'text-red-600';
  return 'text-gray-600';
}
---

<div class="bg-white/20 backdrop-blur-md rounded-2xl shadow-lg overflow-hidden border-2 border-white/50">
  <div class="p-8">
    <div class="space-y-4">
      {weekSchedule.map((schedule) => (
        <div
          data-day-of-week={schedule.dayOfWeek}
          data-regular-hours={schedule.regularHours || 'Zavřeno'}
          class="flex justify-between items-center py-4 px-4 rounded-lg transition-colors border-2 border-transparent"
        >
          <div>
            <span class="font-semibold text-gray-900" data-day-name>
              {schedule.dayName}
              <span class="ml-2 text-xs bg-primary text-white px-2 py-1 rounded-full hidden" data-today-badge>
                Dnes
              </span>
              {/* Notice badge se zobrazuje pouze client-side */}
              <span 
                class="ml-2 text-xs text-white px-2 py-1 rounded-full hidden"
                data-notice-badge
              ></span>
            </span>
          </div>

          <div class="text-right">
            <span 
              class:list={['font-medium', getHourClass(schedule)]}
              data-actual-hours
            >
              {schedule.actualHours || 'Zavřeno'}
            </span>

            {/* Strikethrough regular hours - zobrazuje se pouze client-side */}
            <span class="text-sm ml-2 text-gray-600 line-through hidden" data-regular-hours-strikethrough>
              {schedule.regularHours}
            </span>
          </div>
        </div>
      ))}
    </div>
  </div>
</div>
