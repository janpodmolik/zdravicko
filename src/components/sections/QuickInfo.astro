---
import { Icon } from 'astro-icon/components';
import type { OpeningHoursInfo } from '../../utils/openingHours';
import { contactInfo } from '../../data/contact';

interface Props {
  todayInfo: OpeningHoursInfo;
}

const { todayInfo } = Astro.props;
---

<section class="py-6 md:py-8 bg-gradient-to-br from-gray-50 to-blue-50">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4 max-w-5xl mx-auto">
      <a 
        href="/ordinacni-hodiny" 
        class="group"
      >
        <div class:list={[
          "flex items-center gap-3 p-4 bg-white rounded-xl border-2 transition-all hover:shadow-lg h-full",
          todayInfo.isModified ? "border-amber-300 bg-amber-50/50" : "border-blue-100 hover:border-blue-400"
        ]}>
          <div class:list={[
            "w-10 h-10 rounded-lg flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform",
            todayInfo.isModified ? "bg-gradient-to-br from-amber-500 to-orange-500" : "bg-gradient-to-br from-blue-500 to-blue-600"
          ]}>
            <Icon name={todayInfo.isModified ? "mdi:alert-circle-outline" : "mdi:clock-outline"} class="w-5 h-5 text-white" />
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-bold text-sm text-gray-900 leading-tight mb-0.5">
              {todayInfo.title}
            </h3>
            {todayInfo.hours && (
              <p class:list={[
                "text-xs font-medium",
                todayInfo.isModified ? "text-amber-700 font-bold" : "text-gray-600"
              ]}>{todayInfo.hours}</p>
            )}
          </div>
        </div>
      </a>

      <a 
        href={`tel:${contactInfo.phones.doctor.number}`}
        class="group"
      >
        <div class="flex items-center gap-3 p-4 bg-white rounded-xl border-2 border-cyan-100 transition-all hover:border-cyan-400 hover:shadow-lg h-full">
          <div class="w-10 h-10 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
            <Icon name="mdi:phone" class="w-5 h-5 text-white" />
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-bold text-sm text-gray-900 leading-tight mb-0.5">Telefonní kontakt</h3>
            <p class="text-gray-600 text-xs font-medium">{contactInfo.phones.doctor.display}</p>
          </div>
        </div>
      </a>

      <a 
        href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(contactInfo.address.full)}`}
        target="_blank" 
        rel="noopener noreferrer"
        class="group"
      >
        <div class="flex items-center gap-3 p-4 bg-white rounded-xl border-2 border-purple-100 transition-all hover:border-purple-400 hover:shadow-lg h-full">
          <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform">
            <Icon name="mdi:map-marker" class="w-5 h-5 text-white" />
          </div>
          <div class="flex-1 min-w-0">
            <h3 class="font-bold text-sm text-gray-900 leading-tight mb-0.5">Naše adresa</h3>
            <p class="text-gray-600 text-xs font-medium">{contactInfo.address.street}, {contactInfo.address.city}</p>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>
