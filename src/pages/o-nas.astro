---
import Layout from '../layouts/Layout.astro';
import Header from '../components/common/Header.astro';
import MobileMenu from '../components/common/MobileMenu.astro';
import Footer from '../components/common/Footer.astro';
import PageHeader from '../components/common/PageHeader.astro';
import CTAButtons from '../components/common/CTAButtons.astro';
import SectionHeader from '../components/common/SectionHeader.astro';
import ValueCard from '../components/cards/ValueCard.astro';
import OfficeFacilities from '../components/about/OfficeFacilities.astro';
import { Icon } from 'astro-icon/components';
import { colorClasses, type ColorName } from '../utils/colors';
import { siteConfig } from '../data/siteConfig';

interface TeamMember {
  name: string;
  role: string;
  description: string;
  icon: string;
  color: ColorName;
}

const doctorColors: ColorName[] = ['blue', 'cyan'];
const nurseColors: ColorName[] = ['purple', 'pink'];

const teamMembers: TeamMember[] = [
  // Doctors from config
  ...siteConfig.doctors.map((doctor, index) => ({
    name: doctor.name,
    role: doctor.specialization,
    description: doctor.description,
    icon: 'mdi:doctor',
    color: doctorColors[index % doctorColors.length]
  })),
  // Nurses from config
  ...siteConfig.nurses.map((nurse, index) => ({
    name: nurse.name,
    role: 'Zdravotní sestra',
    description: nurse.description,
    icon: 'mdi:account-heart',
    color: nurseColors[index % nurseColors.length]
  }))
];

const values = [
  {
    icon: 'mdi:heart-pulse',
    title: 'Profesionalita',
    description: 'Neustále se vzdělávame a sledujeme nejnovější trendy v pediatrii, abychom mohli poskytovat péči na nejvyšší úrovni.',
    bgColor: 'bg-blue-600'
  },
  {
    icon: 'mdi:heart',
    title: 'Empatie',
    description: 'Každé dítě je pro nás jedinečné. Přistupujeme k němu s porozuměním, trpělivostí a laskavostí.',
    bgColor: 'bg-cyan-600'
  },
  {
    icon: 'mdi:shield-check-outline',
    title: 'Důvěryhodnost',
    description: 'Stavíme na otevřené komunikaci s rodiči a transparentním přístupu ke zdravotní péči jejich dětí.',
    bgColor: 'bg-purple-600'
  }
];
---

<Layout title="O nás - Zdravíčko">
  <Header activePage="o-nas" />
  <MobileMenu activePage="o-nas" />

  <main>
    <!-- Page Header -->
    <PageHeader
      title="O naší ordinaci"
      description="Poznejte náš tým a historii ordinace, která se stará o zdraví vašich dětí s láskou a profesionalitou"
    />

    <!-- Our Story -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <SectionHeader icon="mdi:book-open-page-variant" title="Naše historie" />

          <div class="prose prose-lg max-w-none text-gray-700 space-y-4">
            <p>
              Ordinace <strong>Zdravíčko</strong> byla založena v roce 2015 s vizí poskytovat kvalitní a moderní
              pediatrickou péči v Přerově a okolí. Od samého začátku jsme se zaměřili na individuální přístup
              ke každému malému pacientovi a vytvoření příjemného prostředí, kde se děti cítí bezpečně.
            </p>

            <p>
              Za posledních 10 let jsme se stali důvěryhodným partnerem pro stovky rodin. Naše ordinace
              prošla modernizací, vybavili jsme ji nejnovější diagnostickou technikou a neustále rozšiřujeme
              spektrum poskytovaných služeb.
            </p>

            <p>
              Jsme hrdí na to, že můžeme být součástí růstu vašich dětí – od prvních dnů života
              přes předškolní a školní léta až po dospívání. Naší prioritou je nejen léčit, ale především
              předcházet nemocem prostřednictvím pravidelné preventivní péče a osvěty.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Team -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <SectionHeader icon="mdi:account-group" title="Náš tým" centered />

          <div class="grid md:grid-cols-2 gap-8">
            {teamMembers.map((member) => {
              const colors = colorClasses[member.color];
              return (
                <div class={`${colors.bgLight} rounded-2xl p-8 border-2 border-gray-100 hover:border-${member.color}-200 transition-all`}>
                  <div class="flex items-start gap-6">
                    <div class={`${colors.bg} w-20 h-20 rounded-full flex items-center justify-center shrink-0`}>
                      <Icon name={member.icon} class="w-10 h-10 text-white" />
                    </div>
                    <div class="flex-1">
                      <h3 class="text-xl font-bold text-gray-900 mb-1">{member.name}</h3>
                      <p class={`${colors.text} font-semibold text-sm mb-3`}>{member.role}</p>
                      <p class="text-gray-700 leading-relaxed">{member.description}</p>
                    </div>
                  </div>
                </div>
              );
            })}
          </div>
        </div>
      </div>
    </section>

    <!-- Office Facilities -->
    <section class="py-16 bg-gray-50">
      <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">
          <SectionHeader icon="mdi:office-building-outline" title="Naše prostory" centered />
          <OfficeFacilities />
        </div>
      </div>
    </section>

    <!-- Values -->
    <section class="py-16 bg-white">
      <div class="container mx-auto px-4">
        <div class="max-w-5xl mx-auto">
          <SectionHeader icon="mdi:star" title="Naše hodnoty" centered />

          <div class="grid md:grid-cols-3 gap-8">
            {values.map((value) => (
              <ValueCard {...value} />
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-blue-600">
      <div class="container mx-auto px-4">
        <div class="max-w-3xl mx-auto text-center">
          <h2 class="text-3xl font-bold text-white mb-4">
            Staňte se součástí naší ordinace
          </h2>
          <p class="text-xl text-blue-100 mb-8">
            Registrujte své dítě k nám a získejte přístup ke kvalitní pediatrické péči
          </p>
          <CTAButtons phoneLabel="Zavolat nám" emailLabel="Napsat e-mail" />
        </div>
      </div>
    </section>
  </main>

  <Footer />
</Layout>
